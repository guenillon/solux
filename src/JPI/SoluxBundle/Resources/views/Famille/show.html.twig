{% extends "JPISoluxBundle:Form:show.html.twig" %}
{% set famille = entity.famille %}
{% set taux = entity.taux %}
{% block jpi_solux_show_content %}
<p class="list-group-item">Nom : {{ famille.nom }}</p>
<p class="list-group-item">Prénom : {{ famille.prenomChef }}</p>
<p class="list-group-item">Date d'entrée : {{ famille.dateEntree|localizeddate('medium', 'none', locale) }}</p>
<p class="list-group-item">Date de sortie : {{famille.dateSortie is empty ? "" : famille.dateSortie|localizeddate('medium', 'none', locale) }}</p>
<p class="list-group-item">Taux de participation : 
{% if taux is null %}
	Indéterminé
{% else %}
	{{ (taux.taux *100)|localizednumber }} %
{% endif %}
</p>
<p class="list-group-item">Recettes : {{ famille.recettes|localizedcurrency(currency) }}</p>
<p class="list-group-item">Dépenses : {{ famille.depenses|localizedcurrency(currency) }}</p>
<p class="list-group-item">Statut professionnel : {{ famille.statutProfessionnel.nom }}</p>
{% if famille.membres is not empty %}
<div class="list-group-item">Membres<br/><br/>
	<table class="table table-striped table-bordered table-responsive table-condensed table-hover">
		<thead>
			<tr>
				<th>Nom</th>
				<th>Prénom</th>
				<th>Date de Naissance</th>
				<th>% à charge</th>
				<th>Parent</th>
			</tr>
		</thead>
		<tbody>
	{%- for ligne in famille.membres -%}
		<tr>
			<td>{{ ligne.nom }}</td>
			<td>{{ ligne.prenom }}</td>
			<td>{{ ligne.dateNaissance|localizeddate('medium', 'none', locale) }}</td>
			<td>{{ (ligne.pourcentageACharge * 100)|localizednumber  }} %</td>
			<td>
				{% if ligne.parent %}
					{{ "membre_famille.show.parent.oui"|trans  }}
				{% else %}
					{{ "membre_famille.show.parent.non"|trans  }}
				{% endif %}
			</td>
		</tr>
    {%- endfor -%}
    	</tbody>
    </table>
</div>
{% endif %}
{% endblock jpi_solux_show_content %}
